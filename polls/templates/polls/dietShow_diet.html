{% load static  %}
<!-- Begin Page Content -->
<div class="container-fluid">

    <!-- Page Heading -->
    <div class="d-sm-flex align-items-center justify-content-between mb-4">
        <h1 class="h3 mb-0 text-gray-800">Dashboard</h1>
        {% comment  %}
        
        <header>
            <ul class="m-0">
                <ul style="text-align:centre; width: 380px; height: 50px; border: 2px solid #70d158; box-sizing: border-box;">
                <li >
                <h6 class="d-sm-flex align-items-center justify-content-between mb-4" style="">
                    Total Calories: <span id="caloriesadded"></span> / <span id="caloriesreq"
                        value={{caloriesreq}}>{{caloriesreq}}</span> goal
                </h6>
                </li>
                <li>
                <button onclick="getValue()" class="btn btn-success" style="margin-left: 20%;">Update</button>
                </li>
            </ul>
        </ul>
         </header>
        
        {% endcomment %}
    </div>

    <script>
        function getValue() {
            var checks = document.getElementsByClassName("addtodiet");
            var cal = 0;
            var calreq = parseInt(document.getElementById("caloriesreq").textContent);
            var status = "";
            for (i = 0; i < checks.length; i++) {
                if (checks[i].checked == true) {
                    cal += parseInt(checks[i].value);
                }
            }
            if (cal < calreq - 50) {
                status = " You're a bit short of what you need to consume Try adding a few more things to your receipt!";
            }
            else if (cal< calreq + 50) {
                status = "Nice Work This Meal Map has acheived your target Calorie Goal!";
            }
            else {
                status = "You're a bit above your consumption goals.Try cutting out small things from your receipt";
            }
            document.getElementById("caloriesadded").innerHTML = cal;
            document.getElementById("status").innerHTML = status;
        }
    
    </script>

    <!--
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
    crossorigin="anonymous"></script>
    <script type="text/javascript">
    window.addEventListener("scroll", function () {
        var header = document.querySelector("header");
        header.classList.toggle("sticky", window.scrollY > 0);
    })
    </script>
    -->


    <section class="p-4">
        <div class="card">
            <div class="card-header text-white" style = "background-color: #28a745">
                <h4 class="m-0">Diet Plan</h4>
            </div>
            <div style="padding-left: 20px;">
                <br>
                <h4>According to our calculation:</h4>
                {% if bmi %}
                <h5 style="">Your BMI is {{bmi}}. {{bmiinfo}} and your required carlories are <strong> {{caloriesreq}}</strong>per day </h5>
                {% endif %}
            </div>
    
            <div class="card-body">
                {% if breakfast %}
                <div class="card my-2">
                    <!--linear-gradient (180deg,#28a745 10%,#28a745 100%)-->
                    <div class="card-header text-white" style = "background-color: #28a745" >
                        <h4 class="m-0">Breakfast</h4>
                    </div>
                    <div class="card-body" style="">
                        <!-- card 1 start -->
                        <div class="row" style="display: flex; flex-wrap: wrap; justify-content: center;">
                            {% for v in breakfast %}
                            <div class="col-lg-4">
                                <div class="our-team-main">
                                    <div class="team-front">
                                        <img src="{% static 'images/food/'|add:v.imagepath %}" class="img-fluid" />
                                        <h3>{{v.name}}</h3>
                                    </div><!--/team-front-->
                                    <div class="team-back">
    
                                        <p class="card-text">Calories : {{v.cal}}</p>
                                        <p class="card-text">Fats : {{v.fat}} g</p>
                                        <p class="card-text">Protein : {{v.pro}} g</p>
                                        <p class="card-text">Sugar : {{v.sug}} g</p>
                                        <p class="card-text"><input type="checkbox" class="addtodiet" value={{v.cal}}>Add
                                            This</input></p>
    
                                    </div>
                                </div><!--ending class our-team-main-->
                            </div>
                            {% endfor %}
                        </div>
                        <!-- card 1 end -->
                    </div>
                </div>
                {% endif %}
    
                {% if lunch %}
                <div class="card my-2">
                    <div class="card-header text-white" style = "background-color: #28a745">
                        <h4 class="m-0">Lunch</h4>
                    </div>
                    <div class="card-body" style="">
                        <!-- card 1 start -->
                        <div class="row" style="display: flex; flex-wrap: wrap; justify-content: center;">
                            {% for v in lunch %}
                            <div class="col-lg-4">
                                <div class="our-team-main">
                                    <div class="team-front">
                                        <img src="{% static 'images/food/'|add:v.imagepath %}" class="img-fluid" />
                                        <h3>{{v.name}}</h3>
                                    </div><!--/team-front-->
                                    <div class="team-back">
    
                                        <p class="card-text">Calories : {{v.cal}}</p>
                                        <p class="card-text">Fats : {{v.fat}} g</p>
                                        <p class="card-text">Protein : {{v.pro}} g</p>
                                        <p class="card-text">Sugar : {{v.sug}} g</p>
                                        <p class="card-text"><input type="checkbox" class="addtodiet" value={{v.cal}}>Add
                                            This</input></p>
    
                                    </div>
                                </div><!--ending class our-team-main-->
                            </div>
                            {% endfor %}
                        </div>
                        <!-- card 1 end -->
                    </div>
                </div>
                {% endif %}
    
    
                {% if dinner %}
                <div class="card my-2">
                    <div class="card-header text-white" style = "background-color: #28a745">
                        <h4 class="m-0">Dinner</h4>
                    </div>
                    <div class="card-body" style="">
                        <!-- card 1 start -->
                        <div class="row" style="display: flex; flex-wrap: wrap; justify-content: center;">
                            {% for v in dinner %}
                            <div class="col-lg-4">
                                <div class="our-team-main">
                                    <div class="team-front">
                                        <img src="{% static 'images/food/'|add:v.imagepath %}" class="img-fluid" />
                                        <h3>{{v.name}}</h3>
                                    </div><!--/team-front-->
                                    <div class="team-back">
    
                                        <p class="card-text">Calories : {{v.cal}}</p>
                                        <p class="card-text">Fats : {{v.fat}} g</p>
                                        <p class="card-text">Protein : {{v.pro}} g</p>
                                        <p class="card-text">Sugar : {{v.sug}} g</p>
                                        <p class="card-text"><input type="checkbox" class="addtodiet" value={{v.cal}}>Add
                                            This</input></p>
    
                                    </div>
                                </div><!--ending class our-team-main-->
                            </div>
                            {% endfor %}
                        </div>
                        <!-- card 1 end -->
                    </div>
                </div>
                {% endif %}
    
    
            </div>
        </div>
    </section>
    

</div>
<!-- /.container-fluid -->